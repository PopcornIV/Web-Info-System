{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Manager Dashboard</title>
  <link rel="stylesheet" href="{% static 'style.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
  <h2 class="mb-4 text-center">Manager Dashboard</h2>

  <div class="row text-center mb-4">
    <div class="col">
      <div class="card bg-light p-3">
        <h5>Total Orders</h5>
        <p class="fs-4">{{ total_orders }}</p>
      </div>
    </div>
    {% for key, count in summary.items %}
      <div class="col">
        <div class="card bg-light p-3">
          <h5>{{ key|title }}</h5>
          <p class="fs-4">{{ count }}</p>
        </div>
      </div>
    {% endfor %}
  </div>

  <h4 class="mb-3">Recent Orders</h4>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Order #</th>
        <th>Customer</th>
        <th>Table</th>
        <th>Status</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {% for order in recent_orders %}
        <tr>
          <td>{{ order.id }}</td>
          <td>{{ order.customer.username }}</td>
          <td>{{ order.table_number }}</td>
          <td>{{ order.status }}</td>
          <td>{{ order.created_at|date:"Y-m-d H:i" }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</body>
</html>
